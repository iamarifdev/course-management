@inherits LayoutComponentBase
@using Blazored.LocalStorage
@inject ILocalStorageService LocalStorage
@inject NavigationManager Navigation

<div class="page">
  <div class="sidebar">
    <NavMenu/>
  </div>

  <main>
    <div class="top-row px-4">
      <button class="btn btn-link" @onclick="HandleLogout">Logout</button>
    </div>

    <article class="content px-4">
      @Body
    </article>
  </main>

@code {
  private async Task HandleLogout()
  {
    // Remove tokens from local storage
    await LocalStorage.RemoveItemAsync("accessToken");
    await LocalStorage.RemoveItemAsync("refreshToken");
    
    // Redirect to login page
    Navigation.NavigateTo("/login", true);
  }
}</div>